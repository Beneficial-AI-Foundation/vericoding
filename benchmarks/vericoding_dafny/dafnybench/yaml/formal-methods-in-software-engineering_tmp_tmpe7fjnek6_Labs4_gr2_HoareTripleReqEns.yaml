vc-preamble: "/*\nDafny include 2 limbaje:\n    * un limbaj pentru specificare \n        MSFOL (ce am discutat până acum)\n        adnotări care să ajute în procesul de verificare\n    * un limbaj pentru scris programe\n*/\n\n// Exemplu de program\n\n\n\n/*\n    triple Hoare (| P |) S (| Q |) \n*/\n\n// varianta assume-assert\n\n// varianta requires-ensures"
vc-helpers: ''
vc-spec: |-
  method HoareTripleReqEns(i: int, k: int) returns (k': int)
      // (| k == i*i |) k := k + 2 * i +1; (| k = (i+1)*(i+1) |)
      requires  k == i*i
      ensures  k' == (i+1)*(i+1)
vc-code: |-
  {
    assume false;
  }
vc-postamble: "/*\nregula pentru while\n*/\n\n// varianta cu assert\n/*\n*/\n\n// varianta cu invariant\n\n//specificarea sumei de patrate\nfunction SqrSumRec(n: int) : int\n    requires n >= 0\n{\n    if (n == 0) then 0 else n*n + SqrSumRec(n-1)\n}\n/*\n*/\n\n// verificarea programului pentru suma de patrate\n\n\n// SqrSumRec(n) = 0^2 + 1^2 + 2^2 + ... + n^2 == n(n+1)(2n+1)/6\nleast lemma L1(n: int)\n    requires n >= 0\n    ensures SqrSumRec(n) == n*(n+1)*(2*n + 1)/6\n{\n    //OK\n}\n\n/*\nfunction SqrSumBy6(n: int) : int\n{\n    n * (n + 1) * (2 * n + 1) \n}\n\ninductive lemma L(n: int) // it takes a while\n    decreases n\n    requires n >= 0\n    ensures  SqrSumBy6(n) == 6 * SqrSumRec(n)\n{\n    if (n == 0) {}\n    else {\n        assert n > 0;\n        L(n-1);\n        assert SqrSumBy6(n-1) == n*(n-1)*(2*n - 1);\n        assert SqrSumBy6(n-1) == 6*SqrSumRec(n-1);\n        assert 6*SqrSumRec(n-1) == n*(n-1)*(2*n - 1);\n        calc == {\n            n*((n-1)*(2*n - 1));\n          \
  \  n*(2*n*(n-1) - n + 1);\n            n*(2*n*n - 3*n + 1);\n            n*(2*n*n - 3*n + 1);\n        }\n        calc == {\n            2*n*n + n;\n            (2*n + 1)*n;\n        }\n        calc == {\n            (2*n + 1)*n + (2*n + 1);\n            (2*n + 1)*(n+1);\n        }\n        calc == {\n            n*((n-1)*(2*n - 1)) + 6*n*n;\n            n*(2*n*(n-1) - n + 1) + 6*n*n;\n            n*(2*n*(n-1) - n + 1) + 6*n*n;\n            n*(2*n*n - 3*n + 1) + 6*n*n;\n            n*(2*n*n - 3*n + 1 + 6*n);\n            n*(2*n*n + 6*n - 3*n + 1);\n            n*(2*n*n + 3*n + 1);\n            n*(2*n*n + n + (2*n + 1));\n            n*((2*n + 1)*n + (2*n + 1));\n            n*((2*n + 1)*(n+1));\n        }\n    }\n}\n\n*/"
