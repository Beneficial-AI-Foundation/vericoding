vc-description: |-
  /-
  Cheesy Cheeseman just got a new monitor! He is happy with it, but he just discovered that his old desktop wallpaper no longer fits. He wants to find a new wallpaper, but does not know which size wallpaper he should be looking for, and alas, he just threw out the new monitor's box. Luckily he remembers the width and the aspect ratio of the monitor from when Bob Mortimer sold it to him. Can you help Cheesy out?
  # The Challenge

  Given an integer `width` and a string `ratio` written as `WIDTH:HEIGHT`, output the screen dimensions as a string written as `WIDTHxHEIGHT`.
  -/

vc-preamble: |

vc-helpers: |

vc-definitions: |-
  def find_screen_height (width : Nat) (ratio : String) : String := sorry

  theorem find_screen_height_format (width : Nat) (ratio : String)
    (h : width > 0)
    (h2 : ∃ a b, ratio = s!"{a}:{b}" ∧ a > 0 ∧ b > 0) :
    ∃ w h : Nat, find_screen_height width ratio = s!"{w}x{h}" := sorry

vc-theorems: |-
  theorem find_screen_height_width_matches (width : Nat) (ratio : String)
    (h : width > 0)
    (h2 : ∃ a b, ratio = s!"{a}:{b}" ∧ a > 0 ∧ b > 0) :
    let result := find_screen_height width ratio
    let w := result.splitOn "x" |>.head!
    w.toNat? = some width := sorry

  theorem find_screen_height_positive (width : Nat) (ratio : String)
    (h : width > 0) 
    (h2 : ∃ a b, ratio = s!"{a}:{b}" ∧ a > 0 ∧ b > 0) :
    let result := find_screen_height width ratio
    let h := result.splitOn "x" |>.getLast!
    (h.toNat?).isSome ∧ (h.toNat?).get! > 0 := sorry

  theorem find_screen_height_ratio_valid (width : Nat) (ratio : String)
    (h : width > 0)
    (h2 : ∃ a b, ratio = s!"{a}:{b}" ∧ a > 0 ∧ b > 0) :
    let result := find_screen_height width ratio
    let h := (result.splitOn "x" |>.getLast!).toNat?.get!
    let a := (ratio.splitOn ":" |>.head!).toNat?.get!
    let b := (ratio.splitOn ":" |>.getLast!).toNat?.get!
    h = width / a * b := sorry

vc-postamble: |-
  -- Apps difficulty: introductory
  -- Assurance level: unguarded

  /--
  info: '1024x768'
  -/
  #guard_msgs in
  #eval find_screen_height 1024 "4:3"

  /--
  info: '1280x720'
  -/
  #guard_msgs in
  #eval find_screen_height 1280 "16:9"

  /--
  info: '3840x1080'
  -/
  #guard_msgs in
  #eval find_screen_height 3840 "32:9"

