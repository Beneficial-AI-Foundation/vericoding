vc-description: |-
  /-
  # Task

  An IP address contains four numbers(0-255) and separated by dots. It can be converted to a number by this way:

  Given a string `s` represents a number or an IP address. Your task is to convert it to another representation(`number to IP address` or `IP address to number`).

  You can assume that all inputs are valid.

  # Example

  Example IP address: `10.0.3.193`

  Convert each number to a 8-bit binary string
  (may needs to pad leading zeros to the left side):
  ```
  10  -->  00001010
  0   -->  00000000
  3   -->  00000011
  193 -->  11000001
  ```
  Combine these four strings: `00001010 00000000 00000011 11000001` and then convert them to a decimal number:
  `167773121`

  # Input/Output

  `[input]` string `s`

  A number or IP address in string format.

  `[output]` a string

  A converted number or IP address in string format.

  # Example

  For `s = "10.0.3.193"`, the output should be `"167773121"`.

  For `s = "167969729"`, the output should be `"10.3.3.193"`.
  -/

vc-preamble: |

vc-helpers: |

vc-definitions: |-
  def numberAndIPaddress (input : String) : String := sorry

  theorem ip_to_num_conversion 
    (ip : String) 
    (h1 : ∃ a b c d, a ≥ 0 ∧ a ≤ 255 ∧ 
                     b ≥ 0 ∧ b ≤ 255 ∧
                     c ≥ 0 ∧ c ≤ 255 ∧ 
                     d ≥ 0 ∧ d ≤ 255 ∧
                     ip = s!"{a}.{b}.{c}.{d}") :
    let num := numberAndIPaddress ip
    ∃ n : Nat, 
      n ≤ 4294967295 ∧
      num = toString n ∧
      numberAndIPaddress num = ip := sorry

vc-theorems: |-
  theorem num_to_ip_conversion
    (num : String)
    (h1 : ∃ n : Nat, n ≤ 4294967295 ∧ num = toString n) :
    let ip := numberAndIPaddress num
    ∃ a b c d : Nat,
      a ≤ 255 ∧ b ≤ 255 ∧ c ≤ 255 ∧ d ≤ 255 ∧
      ip = s!"{a}.{b}.{c}.{d}" ∧
      numberAndIPaddress ip = num := sorry

  theorem zero_conversions :
    numberAndIPaddress "0.0.0.0" = "0" ∧
    numberAndIPaddress "0" = "0.0.0.0" := sorry

vc-postamble: |-
  -- Apps difficulty: introductory
  -- Assurance level: unguarded

  /-
  info: '167773121'
  -/
  #guard_msgs in
  #eval numberAndIPaddress "10.0.3.193"

  /-
  info: '10.3.3.193'
  -/
  #guard_msgs in
  #eval numberAndIPaddress "167969729"

  /-
  info: '0'
  -/
  #guard_msgs in
  #eval numberAndIPaddress "0.0.0.0"

