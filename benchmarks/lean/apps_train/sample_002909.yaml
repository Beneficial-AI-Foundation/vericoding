vc-description: |-
  A palindrome is a word, phrase, number, or other sequence of characters which reads the same backward as forward. Examples of numerical palindromes are:

  2332  
  110011  
  54322345  

  For a given number `num`, write a function to test if it's a numerical palindrome or not and return a boolean (true if it is and false if not).

  ```if-not:haskell
  Return "Not valid" if the input is not an integer or less than `0`.
  ```
  ```if:haskell
  Return `Nothing` if the input is less than `0` and `Just True` or `Just False` otherwise.
  ```

  Other Kata in this Series:
  Numerical Palindrome #1
  Numerical Palindrome #1.5
  Numerical Palindrome #2
  Numerical Palindrome #3
  Numerical Palindrome #3.5
  Numerical Palindrome #4
  Numerical Palindrome #5
vc-preamble: |-
  import Imports.AllImports

  def palindrome (x : Int) : Bool ⊕ String := sorry

  def isDigitPalindrome (s : String) : Bool :=
    s = s.push '0' -- dummy definition to make type checker happy
    
vc-helpers: |-
  -- <vc-helpers>
  -- </vc-helpers>
vc-definitions: |
  def reverseInt (n : Int) : Int := 0 -- dummy definition

  theorem palindrome_output_type (x : Int) :
    x > 0 → Sum.casesOn (palindrome x) (fun _ => True) (fun _ => True) := sorry
vc-theorems: |
  theorem palindrome_correctness (x : Int) :
    x > 0 → match palindrome x with
    | .inl true => isDigitPalindrome (toString x) = true
    | .inl false => isDigitPalindrome (toString x) = false
    | .inr _ => False
    := sorry


  theorem palindrome_negative_invalid (x : Int) :
    x ≤ 0 → palindrome x = .inr "Not valid" := sorry


  theorem single_digit_palindrome (x : Int) :
    x > 0 → x < 10 → (palindrome x) = .inl true := sorry


  theorem palindrome_concat_property (x : Int) :
    x > 0 →
    let xStr := toString x
    let palindromeNum := x * (10 ^ (String.length xStr)) + reverseInt x
    palindrome palindromeNum = .inl true := sorry

  /--
  info: True
  -/
  #guard_msgs in
  #eval palindrome 1221

  /--
  info: False
  -/
  #guard_msgs in
  #eval palindrome 123456

  /--
  info: 'Not valid'
  -/
  #guard_msgs in
  #eval palindrome "1221"

  /--
  info: 'Not valid'
  -/
  #guard_msgs in
  #eval palindrome -450
vc-postamble: |-
  -- Apps difficulty: introductory
  -- Assurance level: unguarded
