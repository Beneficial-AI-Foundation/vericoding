vc-description: |-
  Given a binary string s (a string consisting only of '0' and '1's).
  Return the number of substrings with all characters 1's.
  Since the answer may be too large, return it modulo 10^9 + 7.
   
  Example 1:
  Input: s = "0110111"
  Output: 9
  Explanation: There are 9 substring in total with only 1's characters.
  "1" -> 5 times.
  "11" -> 3 times.
  "111" -> 1 time.
  Example 2:
  Input: s = "101"
  Output: 2
  Explanation: Substring "1" is shown 2 times in s.

  Example 3:
  Input: s = "111111"
  Output: 21
  Explanation: Each substring contains only 1's characters.

  Example 4:
  Input: s = "000"
  Output: 0

   
  Constraints:

  s[i] == '0' or s[i] == '1'
  1 <= s.length <= 10^5
vc-preamble: |-
  import Imports.AllImports
vc-helpers: |-
  -- <vc-helpers>
  -- </vc-helpers>
vc-definitions: |
  def count_substrings_ones (s : String) : Nat :=
    sorry
vc-theorems: |
  theorem count_substrings_ones_valid_output (s : String) : 
    count_substrings_ones s ≥ 0 ∧ count_substrings_ones s < 1000000007 :=
  sorry


  theorem count_substrings_ones_empty_or_zeros
    (s : String)
    (h : s = "" ∨ ∀ c, c ∈ s.data → c = '0') :
    count_substrings_ones s = 0 :=
  sorry


  theorem count_substrings_ones_groups 
    (ones_lengths : List Nat)
    (h : ∀ n ∈ ones_lengths, 1 ≤ n ∧ n ≤ 10) :
    let s := String.join ("0" :: (ones_lengths.map (fun n => String.mk (List.replicate n '1'))))
    let expected := ones_lengths.foldl (fun acc n => (acc + n * (n + 1) / 2) % 1000000007) 0
    count_substrings_ones s = expected :=
  sorry


  theorem count_substrings_ones_all_ones
    (n : Nat)
    (s : String)
    (h : s.data = List.replicate n '1') :
    count_substrings_ones s = (n * (n + 1) / 2) % 1000000007 :=
  sorry

  /--
  info: 9
  -/
  #guard_msgs in
  #eval count_substrings_ones "0110111"

  /--
  info: 2
  -/
  #guard_msgs in
  #eval count_substrings_ones "101"

  /--
  info: 21
  -/
  #guard_msgs in
  #eval count_substrings_ones "111111"
vc-postamble: |-
  -- Apps difficulty: interview
  -- Assurance level: unguarded
