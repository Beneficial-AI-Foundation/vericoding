vc-description: |-
  /-
  Ahoy Matey!
  
  Welcome to the seven seas.
  
  You are the captain of a pirate ship.
  
  You are in battle against the royal navy.
  
  You have cannons at the ready.... or are they?
  
  Your task is to check if the gunners are loaded and ready, if they are: ```Fire!```
  
  If they aren't ready: ```Shiver me timbers!```
  
  Your gunners for each test case are 4 or less.
  
  When you check if they are ready their answers are in a dictionary and will either be: ```aye``` or ```nay```
  
  Firing with less than all gunners ready is non-optimum (this is not fire at will, this is fire by the captain's orders or walk the plank, dirty sea-dog!)
  
  If all answers are 'aye' then Fire!
  if one or more are 'nay' then Shiver me timbers!
  
  Also, check out the new Pirates!! Kata:
  https://www.codewars.com/kata/57e2d5f473aa6a476b0000fe
  -/

vc-preamble: |-
  def HashMap.toArray {α β : Type} : HashMap α β → Array (α × β) :=
    fun _ => #[]
  
  def isAye : String → Bool
  | "aye" => true
  | _ => false

vc-helpers: |-
  -- <vc-helpers>
  -- </vc-helpers>

vc-definitions: |-
  def cannons_ready (gunners : HashMap Gunner Response) : String :=
  sorry

vc-theorems: |-
  theorem cannons_ready_all_conditions {gunners : HashMap Gunner Response} :
    cannons_ready gunners = if (gunners.toArray.all (fun p => isAye p.2))
      then "Fire!"
      else "Shiver me timbers!"
    := sorry
  
  theorem cannons_ready_all_aye {gunners : HashMap Gunner Response} :
    (gunners.toArray.all (fun p => isAye p.2)) →
    cannons_ready gunners = "Fire!"
    := sorry
  
  theorem cannons_ready_all_nay {gunners : HashMap Gunner Response} :
    (gunners.toArray.all (fun p => ¬isAye p.2)) →
    cannons_ready gunners = "Shiver me timbers!"
    := sorry
  
  /-
  info: 'Shiver me timbers!'
  -/
  -- #guard_msgs in
  -- #eval cannons_ready {"Joe": "nay", "Johnson": "nay", "Peter": "aye"}
  
  /-
  info: 'Fire!'
  -/
  -- #guard_msgs in
  -- #eval cannons_ready {"Mike": "aye", "Joe": "aye", "Johnson": "aye", "Peter": "aye"}
  
  /-
  info: 'Shiver me timbers!'
  -/
  -- #guard_msgs in
  -- #eval cannons_ready {"Joe": "aye", "Steve": "nay"}

vc-postamble: |-
  -- Apps difficulty: introductory
  -- Assurance level: unguarded

