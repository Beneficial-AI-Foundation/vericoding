vc-description: |-
  /-
  Scheduling is how the processor decides which jobs(processes) get to use the processor and for how long. This can cause a lot of problems. Like a really long process taking the entire CPU and freezing all the other processes. One solution is Shortest Job First(SJF), which today you will be implementing.
  
  SJF works by, well, letting the shortest jobs take the CPU first. If the jobs are the same size then it is First In First Out (FIFO). The idea is that the shorter jobs will finish quicker, so theoretically jobs won't get frozen because of large jobs. (In practice they're frozen because of small jobs).
  
  You will be implementing:
  ```python
    def SJF(jobs, index)
  ```
  
  It takes in:
  
  1. "jobs" a non-empty array of positive integers. They represent the clock-cycles(cc) needed to finish the job.
  2. "index" a positive integer. That represents the job we're interested in.
  
  SJF returns:
  
  1. A positive integer representing the cc it takes to complete the job at index.
  
  Here's an example:
  ```
  SJF([3, 10, 20, 1, 2], 0)
  at 0cc [3, 10, 20, 1, 2] jobs[3] starts
  at 1cc [3, 10, 20, 0, 2] jobs[3] finishes, jobs[4] starts
  at 3cc [3, 10, 20, 0, 0] jobs[4] finishes, jobs[0] starts
  at 6cc [0, 10, 20, 0, 0] jobs[0] finishes
  ```
  
  so:
  ```
  SJF([3,10,20,1,2], 0) == 6
  ```
  -/

vc-preamble: |-
  abbrev sum (l : List Nat) : Nat :=
    match l with
    | [] => 0
    | x :: xs => x + sum xs
  
  def filterWithIndex (l : List Nat) (p : Nat → Nat → Bool) : List Nat :=
    let rec helper : List Nat → Nat → List Nat
      | [], _ => []
      | (x :: xs), i => if p i x then x :: helper xs (i+1) else helper xs (i+1)
    helper l 0

vc-helpers: |-

vc-definitions: |-
  def SJF (jobs : List Nat) (index : Nat) : Nat :=
    sorry

vc-theorems: |-
  theorem single_job_returns_itself {jobs : List Nat} {job : Nat} (h : jobs = [job]) :
    SJF jobs 0 = job :=
  sorry

vc-postamble: |-
  -- Apps difficulty: introductory
  -- Assurance level: guarded_and_plausible
  
  /--
  info: 100
  -/
  #guard_msgs in
  #eval SJF [100] 0
  
  /--
  info: 6
  -/
  #guard_msgs in
  #eval SJF [3, 10, 20, 1, 2] 0
  
  /--
  info: 16
  -/
  #guard_msgs in
  #eval SJF [3, 10, 10, 20, 1, 2] 1

