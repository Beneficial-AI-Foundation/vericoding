vc-description: |-
  This task requires writing a Verus method that takes a list of natural numbers and partitions it into two separate lists: one containing all the even numbers and the other containing all the odd numbers. The order of elements in each sublist should match their appearance in the original list. Assume there are no duplicates in the input.
  
  Input:
  The input consists of a single list with no duplicate natural numbers:
  - nums: A list of natural numbers (nat)
  
  Output:
  The output is a tuple of two lists:
  - The first list contains all even numbers from the input list, in order.
  - The second list contains all odd numbers from the input list, in order.

vc-preamble: |-
  use vstd::prelude::*;
  
  verus! {

vc-helpers: |-

vc-spec: |-
  fn partition_evens_odds(nums: &Vec<u8>) -> (result: (Vec<u8>, Vec<u8>))
      requires true,
      ensures ({
          let evens = result.0;
          let odds = result.1;
          &&& evens@.map(|i, n| n as nat) + odds@.map(|i, n| n as nat) == nums@.map(|i, n| n as nat).filter(|n: nat| n % 2 == 0) + nums@.map(|i, n| n as nat).filter(|n: nat| n % 2 == 1)
          &&& forall|i: int| 0 <= i < evens.len() ==> evens[i] as nat % 2 == 0
          &&& forall|i: int| 0 <= i < odds.len() ==> odds[i] as nat % 2 == 1
      }),

vc-code: |-
  {
      assume(false);
      unreached()
  }

vc-postamble: |-
  }
  fn main() {}