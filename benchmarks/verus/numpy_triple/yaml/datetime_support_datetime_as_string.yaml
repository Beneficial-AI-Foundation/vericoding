vc-description: |-
  Convert an array of datetime64 values to an array of strings.
  
  Converts each datetime64 value in the input vector to its string representation.
  The format depends on the timezone option: 'naive' produces no suffix,
  'UTC' adds 'Z' suffix, and 'local' would add timezone offset.
  
  For simplicity, we focus on the core conversion from datetime64 to ISO format strings.
  
  Specification: datetime_as_string converts each datetime64 to its string representation.
  
  Precondition: True (no special preconditions)
  Postcondition: Each datetime64 is converted to a properly formatted ISO 8601 string
  
  /* Time unit for datetime64 */
  
  /* Years unit ('Y') */
  
  /* Days unit ('D') */
  
  /* Hours unit ('h') */
  
  /* Minutes unit ('m') */
  
  /* Seconds unit ('s') */
  
  /* Milliseconds unit ('ms') */
  
  /* Microseconds unit ('us') */
  
  /* Nanoseconds unit ('ns') */
  
  /* DateTime64 structure representing offset from Unix epoch */
  
  /* Offset value from 1970-01-01T00:00:00 */
  
  /* Time unit of the offset */
  
  /* Always UTC with +0000 offset */
  
  /* Timezone formatting options */
  
  /* No timezone suffix */
  
  /* Add 'Z' suffix for UTC */
  
  /* Add local timezone offset */

vc-preamble: |-
  use vstd::prelude::*;
  
  verus! {
  
  #[derive(PartialEq, Eq)]
  enum TimeUnit {
  
      Years,
  
      Days,
  
      Hours,
  
      Minutes,
  
      Seconds,
  
      Milliseconds,
  
      Microseconds,
  
      Nanoseconds,
  }
  
  #[derive(PartialEq, Eq)]
  struct DateTime64 {
  
      offset: i64,
  
      unit: TimeUnit,
  
      is_utc: bool,
  }
  
  #[derive(PartialEq, Eq)]
  enum TimezoneOption {
  
      Naive,
  
      UTC,
  
      Local,
  }

vc-helpers: |-

vc-spec: |-
  fn datetime_as_string(arr: Vec<DateTime64>, timezone: TimezoneOption) -> (result: Vec<String>)
      requires arr@.len() > 0,
      ensures 
          result@.len() == arr@.len(),
          forall|i: int| 0 <= i < result@.len() ==> #[trigger] result@[i]@.len() > 0,

vc-code: |-
  {
      assume(false);
      unreached()
  }

vc-postamble: |-
  }
  fn main() {}