vc-description: |-
  Returns the index of the maximum value in a non-empty vector (first occurrence)
  
  Specification: argmax returns the index of the first maximum element
  This comprehensive specification captures:
  1. The returned index points to a maximum element
  2. All elements to the left of the returned index are strictly less than the maximum
  3. All elements to the right of the returned index are less than or equal to the maximum
  4. The function returns the first occurrence of the maximum value
  5. The returned index is valid (type-safe with Fin)
  6. The result is deterministic for the same input

vc-preamble: |-
  use vstd::prelude::*;
  
  verus! {

vc-helpers: |-

vc-spec: |-
  fn argmax(arr: &Vec<i32>) -> (result: usize)
      requires arr.len() > 0,
      ensures 
          result < arr.len(),
          forall|i: int| 0 <= i && i < arr.len() ==> arr@[i] <= arr@[result as int],
          forall|i: int| 0 <= i && i < result as int ==> arr@[i] < arr@[result as int],
          forall|i: int| (result as int) < i && i < arr.len() ==> arr@[i] <= arr@[result as int],

vc-code: |-
  {
      assume(false);
      0
  }

vc-postamble: |-
  }
  fn main() {}

