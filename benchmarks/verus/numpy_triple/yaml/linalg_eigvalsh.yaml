vc-description: |-
  Compute the eigenvalues of a complex Hermitian or real symmetric matrix

  Compute the eigenvalues of a real symmetric matrix.
  Returns eigenvalues in ascending order without computing eigenvectors.
  This is the eigenvalues-only version of the symmetric eigenvalue problem.

  Specification: eigvalsh computes eigenvalues of a real symmetric matrix.

  The eigenvalues are real (since the matrix is symmetric) and returned in ascending order.
  Key mathematical properties:
  1. The eigenvalues are real for symmetric matrices
  2. They are returned in ascending order
  3. The trace equals the sum of eigenvalues
  4. The determinant equals the product of eigenvalues
  5. For the identity matrix, all eigenvalues are 1
  6. For diagonal matrices, eigenvalues are the diagonal elements (sorted)
  7. Matrix symmetry: a[i][j] = a[j][i] for all i,j

vc-preamble: |-
  use vstd::prelude::*;

  verus! {

vc-helpers: |-

vc-spec: |-
  fn eigvalsh(a: Vec<Vec<i8>>) -> (eigenvals: Vec<i8>)
      requires
          a.len() > 0,
          forall|i: int| 0 <= i < a.len() ==> a[i].len() == a.len(),
          forall|i: int, j: int| 0 <= i < a.len() && 0 <= j < a.len() ==> a[i][j] == a[j][i],
      ensures
          eigenvals.len() == a.len(),
          /* Eigenvalues are in ascending order */
          forall|i: int, j: int| 0 <= i < j < eigenvals.len() ==> eigenvals[i] <= eigenvals[j],
          /* Identity matrix has all eigenvalues equal to 1 */
          (forall|i: int, j: int| 0 <= i < a.len() && 0 <= j < a.len() ==> 
              a[i][j] == (if i == j { 1i8 } else { 0i8 })) ==> 
              (forall|i: int| 0 <= i < eigenvals.len() ==> eigenvals[i] == 1i8),
          /* Zero matrix has all eigenvalues equal to 0 */
          (forall|i: int, j: int| 0 <= i < a.len() && 0 <= j < a.len() ==> a[i][j] == 0i8) ==> 
              (forall|i: int| 0 <= i < eigenvals.len() ==> eigenvals[i] == 0i8)

vc-code: |-
  {
      // impl-start
      assume(false);
      unreached()
      // impl-end
  }

vc-postamble: |-

  }
  fn main() {}