vc-description: |-
  /*
  numpy.strings.isalpha: Returns true for each element if all characters in the string are alphabetic and there is at least one character, false otherwise.
  
  Tests whether all characters in each string are alphabetic letters.
  A string is considered alphabetic if:
  1. It contains at least one character
  2. All characters are alphabetic (a-z, A-Z)
  
  Empty strings return false.
  Strings with numbers, symbols, or whitespace return false.
  
  Specification: numpy.strings.isalpha returns a vector where each element indicates
  whether the corresponding string element contains only alphabetic characters
  and has at least one character.
  
  Key properties:
  1. Empty strings always return false
  2. Non-empty strings return true iff all characters are alphabetic
  3. Alphabetic characters are those satisfying Char.isAlpha (a-z, A-Z)
  4. Strings with digits, whitespace, or symbols return false
  5. The function is applied element-wise to each string in the vector
  
  Mathematical properties:
  - Monotonicity: removing non-alphabetic characters from a string cannot make isalpha false
  - Compositionality: isalpha(s) = (s.length > 0) ∧ (∀ c ∈ s, Char.isAlpha c)
  - Deterministic: same input always produces same output
  */
vc-preamble: |-
  use vstd::prelude::*;

  verus! {

vc-helpers: |-

vc-spec: |-
  spec fn is_alpha_char(c: char) -> bool;

  spec fn all_chars_alpha(s: &str) -> bool
      decreases s.len()
  {
      if s.len() == 0 {
          true
      } else {
          is_alpha_char(s.chars().nth(0).unwrap()) && all_chars_alpha(&s[1..])
      }
  }

  fn isalpha(a: Vec<String>) -> (result: Vec<bool>)
      ensures 
          result.len() == a.len(),
          forall|i: int| 0 <= i < result.len() ==> {
              /* Core property: result matches the definition */
              result[i] == (a[i].len() > 0 && all_chars_alpha(&a[i])) &&
              /* Sanity check: empty strings are always false */
              (a[i].len() == 0 ==> result[i] == false) &&
              /* Sanity check: non-empty strings are true iff all chars are alphabetic */
              (a[i].len() > 0 ==> (result[i] == all_chars_alpha(&a[i]))) &&
              /* Mathematical property: if result is true, then string is non-empty */
              (result[i] == true ==> a[i].len() > 0) &&
              /* Mathematical property: if result is true, then all chars are alphabetic */
              (result[i] == true ==> all_chars_alpha(&a[i]))
          }

vc-code: |-
  {
      // impl-start
      assume(false);
      Vec::new()
      // impl-end
  }

vc-postamble: |-

  }
  fn main() {}