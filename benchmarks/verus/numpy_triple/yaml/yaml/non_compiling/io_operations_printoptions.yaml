vc-description: |-
  numpy.printoptions: Context manager for setting print options.
  
  Creates a context manager that temporarily sets print options and restores
  the original options afterward. This allows for local formatting changes
  without affecting global state.
  
  The context manager returns the current print options that are active
  within the context.
  
  Specification: numpy.printoptions creates a context with temporary print options.
  
  Precondition: Valid print options are provided
  Postcondition: Returns a context that contains both old and new options,
                 where the new options are the ones that would be active
                 within the context

vc-preamble: |-
  use vstd::prelude::*;

  verus! {

  /* Print options structure to represent configuration */
  struct PrintOptions {
      /* Number of digits of precision for floating point output */
      precision: nat,
      /* Total number of array elements which trigger summarization */
      threshold: nat,
      /* Number of array items in summary at beginning and end */
      edgeitems: nat,
      /* Number of characters per line for inserting line breaks */
      linewidth: nat,
      /* Whether to suppress small floating point values */
      suppress: bool,
      /* String representation of floating point NaN */
      nanstr: String,
      /* String representation of floating point infinity */
      infstr: String,
  }

  /* Context manager result representing the temporary state change */
  struct PrintOptionsContext {
      /* The original print options before the context change */
      old_options: PrintOptions,
      /* The new print options active within the context */
      new_options: PrintOptions,
  }

vc-helpers: |-

vc-spec: |-
  fn numpy_printoptions(new_opts: PrintOptions) -> (context: PrintOptionsContext)
      ensures
          context.new_options == new_opts,
          context.old_options != context.new_options,

vc-code: |-
  {
      // impl-start
      assume(false);
      PrintOptionsContext {
          old_options: PrintOptions {
              precision: 0nat,
              threshold: 0nat,
              edgeitems: 0nat,
              linewidth: 0nat,
              suppress: false,
              nanstr: String::new(),
              infstr: String::new(),
          },
          new_options: new_opts,
      }
      // impl-end
  }

vc-postamble: |-

  }
  fn main() {}