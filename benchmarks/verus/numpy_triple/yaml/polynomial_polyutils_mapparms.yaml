vc-description: |-
  Linear map parameters between domains. 
  Returns the parameters of the linear map `offset + scale*x` that maps
  `old` to `new` such that `old[i] -> new[i]`, `i = 0, 1`.
  
  Specification: mapparms computes linear mapping parameters between domains.
  The returned offset and scale define a linear map L(x) = offset + scale*x
  that maps the old domain to the new domain.

vc-preamble: |-
  use vstd::prelude::*;
  
  verus! {

vc-helpers: |-

vc-spec: |-
  fn mapparms(old: [i8; 2], new: [i8; 2]) -> (result: (i8, i8))
      requires old[0] != old[1],
      ensures ({
          let (offset, scale) = result;
          let oldlen = old[1] as int - old[0] as int;
          let newlen = new[1] as int - new[0] as int;
          offset as int + scale as int * old[0] as int == new[0] as int &&
          offset as int + scale as int * old[1] as int == new[1] as int &&
          scale as int == newlen / oldlen &&
          offset as int == (old[1] as int * new[0] as int - old[0] as int * new[1] as int) / oldlen
      })

vc-code: |-
  {
      assume(false);
      unreached()
  }

vc-postamble: |-
  }
  fn main() {}