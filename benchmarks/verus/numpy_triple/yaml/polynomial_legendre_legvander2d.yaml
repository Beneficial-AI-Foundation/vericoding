vc-description: |-
  Pseudo-Vandermonde matrix of given degrees for 2D Legendre polynomials.
  Returns the pseudo-Vandermonde matrix of degrees `deg` and sample points `(x, y)`.
  The pseudo-Vandermonde matrix is defined by V[..., (deg[1] + 1)*i + j] = L_i(x) * L_j(y),
  where 0 <= i <= deg[0] and 0 <= j <= deg[1].
  
  Specification: legvander2d constructs a 2D pseudo-Vandermonde matrix where each row 
  corresponds to a point (x_i, y_i) and each column corresponds to a product of 
  Legendre polynomials L_i(x) * L_j(y).
  The matrix satisfies basic properties:
  - Each entry is a product of 1D Legendre polynomial evaluations
  - The ordering follows the specified indexing scheme
  - The matrix has the correct dimensions

vc-preamble: |-
  use vstd::prelude::*;
  
  verus! {

vc-helpers: |-

vc-spec: |-
  fn legvander2d(x: Vec<f64>, y: Vec<f64>, deg_x: usize, deg_y: usize) -> (result: Vec<Vec<f64>>)
      requires x.len() == y.len(),
      ensures
          result.len() == x.len(),
          forall|i: int| 0 <= i < result.len() ==> result[i].len() == (deg_x + 1) * (deg_y + 1),
          forall|i: int| 0 <= i < result.len() && result[i].len() > 0 ==> result[i][0] == 1.0

vc-code: |-
  {
      assume(false);
      Vec::new()
  }

vc-postamble: |-
  }
  fn main() {}

