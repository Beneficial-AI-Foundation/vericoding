vc-description: |-
  Convert a Laguerre series to a polynomial.
  Convert an array representing the coefficients of a Laguerre series,
  ordered from lowest degree to highest, to an array of the coefficients
  of the equivalent polynomial (relative to the "standard" basis).
  
  Specification: lag2poly converts Laguerre series coefficients to standard polynomial coefficients.
  The converted polynomial evaluates to the same values as the original Laguerre series.
  
  /* Helper function to evaluate a Laguerre polynomial at a given point */
  
  /* Helper function to evaluate a standard polynomial at a given point */
  
  /* The converted polynomial evaluates to the same values as the Laguerre series */
  
  /* Single coefficient case: lag2poly([a]) = [a] */
  
  /* The conversion preserves the polynomial degree */

vc-preamble: |-
  use vstd::prelude::*;
  
  verus! {
  
  spec fn evaluate_laguerre_polynomial(c: Seq<f32>, x: f32) -> f32;
  
  spec fn evaluate_polynomial(coeffs: Seq<f32>, x: f32) -> f32;

vc-helpers: |-

vc-spec: |-
  fn lag2poly(c: Vec<f32>) -> (result: Vec<f32>)
      requires c.len() > 0,
      ensures
          result.len() == c.len(),
  
          forall|x: f32| evaluate_polynomial(result@, x) == evaluate_laguerre_polynomial(c@, x),
  
          c.len() == 1 ==> result@ == c@,
  
          c.len() > 0 ==> evaluate_polynomial(result@, 0.0) == evaluate_laguerre_polynomial(c@, 0.0),

vc-code: |-
  {
      assume(false);
      unreached()
  }

vc-postamble: |-
  }
  fn main() {}

