vc-description: |-
  For each element in a vector, return a list of the words in the string, using sep as the delimiter string.
  Splits from the right, meaning that splits are made from the right side of the string.
  
  Specification: rsplit splits each string in the vector from the right using the given separator.
  The resulting vector contains lists of strings where each list represents the split parts
  of the corresponding input string.

vc-preamble: |-
  use vstd::prelude::*;

  verus! {

vc-helpers: |-

vc-spec: |-
  fn rsplit(a: Vec<String>, sep: String, maxsplit: usize) -> (result: Vec<Vec<String>>)
      requires 
          sep@.len() > 0,
      ensures
          result.len() == a.len(),
          forall|i: int| 0 <= i < result.len() ==> result[i].len() > 0,
          maxsplit == 0 ==> forall|i: int| 0 <= i < result.len() ==> 
              result[i].len() == 1 && result[i][0]@ == a[i]@,
          forall|i: int| 0 <= i < result.len() ==> result[i].len() <= maxsplit + 1,
          forall|i: int| 0 <= i < result.len() ==> 
              (a[i]@.len() == 0 ==> result[i].len() == 1 && result[i][0]@.len() == 0),

vc-code: |-
  {
      // impl-start
      assume(false);
      unreached()
      // impl-end
  }

vc-postamble: |-

  }
  fn main() {}