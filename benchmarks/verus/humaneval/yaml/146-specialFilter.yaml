vc-description: |-

vc-preamble: |-
  use vstd::prelude::*;
  
  verus! {
  
  spec fn extract_first_digit_spec(n: int) -> (ret:int)
      decreases n,
  {
      if n < 10 {
          n
      } else {
          extract_first_digit_spec(n / 10)
      }
  }
  spec fn extract_last_digit_spec(n: int) -> (ret:int) {
      n % 10
  }
  spec fn is_odd(n: int) -> (ret:bool) {
      (n % 2) != 0
  }
  
  spec fn is_valid_element_spec(n: int) -> (ret:bool) {
      &&& (n > 10)
      &&& is_odd(extract_first_digit_spec(n))
      &&& is_odd(extract_last_digit_spec(n))
  }
  spec fn special_filter_spec(seq: Seq<i32>) -> (ret:int)
      decreases seq.len(),
  {
      if seq.len() == 0 {
          0
      } else {
          special_filter_spec(seq.drop_last()) + if (is_valid_element_spec(seq.last() as int)) {
              1 as int
          } else {
              0 as int
          }
      }
  }

vc-helpers: |-

vc-spec: |-
  fn special_filter(numbers: &Vec<i32>) -> (count: usize)
  
      ensures
          count == special_filter_spec(numbers@),

vc-code: |-
  {
      assume(false);
      unreached();
  }

vc-postamble: |-
  }
  fn main() {}

