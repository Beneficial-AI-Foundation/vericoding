vc-description: |-
  Two players Alice and Brown play a turn-based stone game starting with Alice.
  There are two piles with X and Y stones. On each turn, a player chooses positive
  integer i, takes 2i stones from one pile (requiring at least 2i stones),
  discards i stones, and places remaining i stones in the other pile.
  The player who cannot make a valid move loses. Determine winner with optimal play.

vc-preamble: |-
  use vstd::prelude::*;

  verus! {
  spec fn abs(x: int) -> int {
      if x >= 0 { x } else { -x }
  }

  spec fn alice_wins(x: int, y: int) -> bool {
      abs(x - y) > 1
  }

  spec fn brown_wins(x: int, y: int) -> bool {
      abs(x - y) <= 1
  }

  spec fn valid_input(x: int, y: int) -> bool {
      x >= 0 && y >= 0
  }

vc-helpers: |

vc-spec: |-
  fn determine_winner(x: int, y: int) -> (winner: &'static str)
      requires 
          valid_input(x, y),
      ensures 
          winner == "Alice" || winner == "Brown",
          (winner == "Alice") <==> alice_wins(x, y),
          (winner == "Brown") <==> brown_wins(x, y),

vc-code: |-
  {
      assume(false);
      "Alice"
  }

vc-postamble: |2-

  }

  fn main() {}
