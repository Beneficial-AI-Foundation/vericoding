vc-description: |-
  Two players play a game on an array of integers, alternating turns.
  First player removes subsegments with odd sum, second player removes subsegments with even sum.
  After removal, remaining parts are concatenated. Player who cannot move loses.
  Determine the winner assuming optimal play.

vc-preamble: |-
  use vstd::prelude::*;

  verus! {
  spec fn all_even(a: Seq<int>) -> bool {
      forall|i: int| 0 <= i < a.len() ==> a[i] % 2 == 0
  }

  spec fn has_odd(a: Seq<int>) -> bool {
      exists|i: int| 0 <= i < a.len() && a[i] % 2 == 1
  }

vc-helpers: |

vc-spec: |-
  fn solve(a: Vec<i8>) -> (result: &'static str)
      ensures 
          (result == "Second") <==> all_even(a@.map(|i: int, x: i8| x as int)),
          (result == "First") <==> has_odd(a@.map(|i: int, x: i8| x as int)),
          result == "First" || result == "Second",

vc-code: |-
  {
      assume(false);
      unreached()
  }

vc-postamble: |2-

  }

  fn main() {}