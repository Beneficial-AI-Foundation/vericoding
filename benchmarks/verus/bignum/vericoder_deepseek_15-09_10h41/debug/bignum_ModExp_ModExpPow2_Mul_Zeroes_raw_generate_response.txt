=== Raw LLM Generate Response ===
Length: 1511 characters
--------------------------------------------------------------------------------
["proof fn helper_lemma_exp_mod(x: nat, y: nat, m: nat) \n    requires m > 1\n    ensures Exp_int(x, y) % m == (if y == 0 { 1 % m } else { (x % m) * Exp_int(x, y - 1) % m }) % m\n{\n    if y == 0 {\n        assert(Exp_int(x, y) % m == 1 % m);\n    } else {\n        helper_lemma_exp_mod(x, y - 1, m);\n        assert(Exp_int(x, y) == x * Exp_int(x, y - 1));\n        assert(Exp_int(x, y) % m == (x * Exp_int(x, y - 1)) % m);\n        assert((x * Exp_int(x, y - 1)) % m == ((x % m) * (Exp_int(x, y - 1) % m)) % m);\n    }\n}", "{\n    let mut x_val = Str2Int(sx@);\n    let y_val = Str2Int(sy@);\n    let z_val = Str2Int(sz@);\n    let mut result_val = 1nat;\n    let mut current_exp = y_val;\n    \n    proof {\n        helper_lemma_exp_mod(x_val, y_val, z_val);\n    }\n    \n    while current_exp > 0\n        invariant\n            result_val == Exp_int(x_val, y_val - current_exp) % z_val,\n            current_exp <= y_val\n        decreases current_exp\n    {\n        result_val = (result_val * x_val) % z_val;\n        current_exp = current_exp - 1;\n    }\n    \n    let mut result_vec = Vec::new();\n    let mut temp = result_val;\n    while temp > 0\n        invariant\n            temp >= 0\n        decreases temp\n    {\n        if temp % 2 == 0 {\n            result_vec.push('0');\n        } else {\n            result_vec.push('1');\n        }\n        temp = temp / 2;\n    }\n    result_vec.reverse();\n    if result_vec.is_empty() {\n        result_vec.push('0');\n    }\n    result_vec\n}"]
--------------------------------------------------------------------------------
