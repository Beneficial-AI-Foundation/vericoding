vc-description: |-
  Given n participants with integer scores, determine the number of ways to award diplomas such that:
  1. At least one participant receives a diploma
  2. No participant with score 0 receives a diploma  
  3. If a participant with score X receives a diploma, then all participants with score â‰¥ X must also receive diplomas

vc-preamble: |-
  predicate ValidInput(n: int, scores: seq<int>)
  {
      n == |scores| && n >= 1 && exists i :: 0 <= i < |scores| && scores[i] != 0
  }
  
  function UniqueNonZeroScores(scores: seq<int>): set<int>
  {
      set i | 0 <= i < |scores| && scores[i] != 0 :: scores[i]
  }
  
  predicate ValidResult(scores: seq<int>, result: int)
  {
      result >= 1 && 
      result == |UniqueNonZeroScores(scores)| && 
      result <= |scores|
  }

vc-helpers: |-
  

vc-spec: |-
  method solve(n: int, scores: seq<int>) returns (result: int)
      requires ValidInput(n, scores)
      ensures ValidResult(scores, result)

vc-code: |-
  {
      var uniqueNonZeroScores: set<int> := {};
  
      var i := 0;
      while i < |scores|
          invariant 0 <= i <= |scores|
          invariant uniqueNonZeroScores == set j | 0 <= j < i && scores[j] != 0 :: scores[j]
          invariant (exists j :: 0 <= j < i && scores[j] != 0) ==> |uniqueNonZeroScores| >= 1
          invariant |uniqueNonZeroScores| <= i
      {
          if scores[i] != 0 {
              uniqueNonZeroScores := uniqueNonZeroScores + {scores[i]};
          }
          i := i + 1;
      }
  
      result := |uniqueNonZeroScores|;
  }

vc-postamble: |-
