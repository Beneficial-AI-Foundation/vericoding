vc-preamble: |-
  use vstd::prelude::*;
  
  verus! {

vc-helpers: |-
  proof fn square_root_approx(n: u32, r: u32)
      requires r * r <= n
      ensures r * r <= n < (r + 1) * (r + 1)
  {
      // No changes needed here as the helper is syntactically correct
  }

vc-spec: |-
  // <vc-spec>
  fn square_root(n: u32) -> (r: u32)
    ensures r * r <= n < (r + 1) * (r + 1)
  // </vc-spec>

vc-code: |-
  fn square_root(n: u32) -> (r: u32)
      ensures r * r <= n < (r + 1) * (r + 1)
  {
      let mut r: u32 = 0;
      while r * r <= n
          invariant r * r <= n
          decreases n - r * r
      {
          if (r + 1) * (r + 1) > n {
              break;
          }
          r = r + 1;
      }
      r
  }

vc-postamble: |-
  fn main() {}
  
  }

