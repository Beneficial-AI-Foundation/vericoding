vc-preamble: |-
  use vstd::prelude::*;
  
  verus! {

vc-helpers: |-
  // No updates needed for helpers as the issue is a syntax error in the code section

vc-spec: |-
  // <vc-spec>
  fn count_less_than(numbers: Set<int>, threshold: int) -> (count: usize)
      ensures count == numbers.filter(|i: int| i < threshold).len()
  // </vc-spec>

vc-code: |-
  fn count_less_than(numbers: Set<int>, threshold: int) -> (count: usize)
      ensures count == numbers.filter(|i: int| i < threshold).len()
  {
      let mut count: usize = 0;
      let mut iter = numbers.iter();
      while let Some(num) = iter.next()
          invariant
              count <= numbers.len(),
              iter.unfinished().union(iter.finished()) == numbers,
              count == iter.finished().filter(|i: int| i < threshold).len()
      {
          if num < threshold {
              count = count + 1;
          }
      }
      count
  }

vc-postamble: |-
  fn main() {}
  
  }

