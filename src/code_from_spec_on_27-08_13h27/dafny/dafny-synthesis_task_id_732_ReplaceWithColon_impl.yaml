vc-preamble: |-
  predicate IsSpaceCommaDot(c: char)
  {
      c == ' ' || c == ',' || c == '.'
  }

vc-helpers: |-
  // No additional helpers or proofs needed for this implementation

vc-spec: |-
  // <vc-spec>
  method ReplaceWithColon(s: string) returns (v: string)
      ensures |v| == |s|
      ensures forall i :: 0 <= i < |s| ==> (IsSpaceCommaDot(s[i]) ==> v[i] == ':') && (!IsSpaceCommaDot(s[i]) ==> v[i] == s[i])
  // </vc-spec>

vc-code: |-
  {
      var result := new char[|s|];
      for i := 0 to |s|
          invariant 0 <= i <= |s|
          invariant forall k :: 0 <= k < i ==> (IsSpaceCommaDot(s[k]) ==> result[k] == ':') && (!IsSpaceCommaDot(s[k]) ==> result[k] == s[k])
      {
          if IsSpaceCommaDot(s[i])
          {
              result[i] := ':';
          }
          else
          {
              result[i] := s[i];
          }
      }
      v := result[..];
  }

vc-postamble: |-


