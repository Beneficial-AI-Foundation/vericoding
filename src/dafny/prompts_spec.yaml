generate_code: |
  
  You are given a Dafny file with following five consecutive blocks. 

  PREAMBLE (possibly empty): auxiliary code and definitions.
  
  // <vc-helpers>
  HELPERS : auxiliary code and proofs 
  // </vc-helpers>
  
  // <vc-spec>
  SPEC : specification of a method to be implemented with signature and pre/post conditions.
  // </vc-spec>
  
  // <vc-code>
  CODE : placeholder for the required implementation.
  // </vc-code>
  
  POSTAMBLE (possibly empty): auxiliary code and definitions.

  The task is to generate code for the CODE and HELPERS sections that will make the Dafny file verified
  while leaving the PREAMBLE, SPEC and POSTAMBLE sections unchanged. 
  
  OUTPUT FORMAT:
  Return the updated sections in this exact format with explicit code blocks:
  
  ```vc-helpers
  [Updated or new helper code and proofs needed for verification]
  ```
  
  ```vc-code
  {{
  [Verified implementation of the method specified in SPEC]
  }}
  ```
  
  REQUIREMENTS:
  - The CODE section must contain ONLY the method body implementation inside braces {{ }}
  - The CODE section must pass verification
  - The HELPERS section may be used to support the implementation and verification of the CODE section
  - Output ONLY valid Dafny code - NO conversational text, explanations, or comments outside the code
  
  DAFNY FILE:
  {code}

fix_verification: |
  
  You are given a Dafny file that failed verification. 
  It has following five consecutive blocks: 

  PREAMBLE (possibly empty): auxiliary code and definitions.
  
  // <vc-helpers>
  HELPERS : auxiliary code and proofs 
  // </vc-helpers>
  
  // <vc-spec>
  SPEC : specification of a method with signature and pre/post conditions.
  // </vc-spec>
  
  // <vc-code>
  CODE : implementation that failed verification.
  // </vc-code>
  
  POSTAMBLE (possibly empty): auxiliary code and definitions.

  The task is to fix the verification errors in the CODE and HELPERS sections while leaving the PREAMBLE, SPEC and POSTAMBLE sections unchanged. 
  
  OUTPUT FORMAT:
  Return the updated sections in this exact format with explicit code blocks:
  
  ```vc-helpers
  [Updated helper code and proofs to fix verification errors]
  ```
  
  ```vc-code
  {{
  [Updated implementation and proof blocks that pass verification]
  }}
  ```
  
  REQUIREMENTS:
  - The CODE section must contain ONLY the method body implementation inside braces {{ }}
  - The CODE section may be updated to pass verification
  - The HELPERS section may be updated to support the implementation and verification of the CODE section
  - Output ONLY valid Dafny code - NO conversational text, explanations, or comments outside the code
  
  ERROR DETAILS from Dafny verification of the given code:
  {errorDetails}

  DAFNY FILE:
  {code}
