generate_code: |
  
  You are given a Dafny file with following five consecutive blocks. 

  PREAMBLE (possibly empty): auxiliary code and definitions.
  
  // <vc-helpers>
  HELPERS : auxiliary code and proofs 
  // </vc-helpers>
  
  // <vc-spec>
  SPEC : specification of a method to be implemented with signature and pre/post conditions.
  // </vc-spec>
  
  // <vc-code>
  CODE : placeholder for the required implementation.
  // </vc-code>
  
  POSTAMBLE (possibly empty): auxiliary code and definitions.

  The task is to generate a Dafny file that is verified in Dafny and satisfies the following requirements: 
  
  - The PREAMBLE, SPEC, and POSTAMBLE sections must be preserved as they are, including the tags
  - The CODE section must be replaced with a verified implementation of the method specified in the SPEC section.
  - The HELPERS section may be updated to support the verification of the new implementation.
  - The order of sections should be the same as in the original file.
  - Output ONLY valid Dafny code - NO conversational text, explanations, or comments outside the code

  DAFNY FILE:
  {code}

fix_verification: |
  
  You are given a Dafny file that failed verification. 
  It has following five consecutive blocks: 

  PREAMBLE (possibly empty): auxiliary code and definitions.
  
  // <vc-helpers>
  HELPERS : auxiliary code and proofs 
  // </vc-helpers>
  
  // <vc-spec>
  SPEC : specification of a method with signature and pre/post conditions.
  // </vc-spec>
  
  // <vc-code>
  CODE : implementation that failed verification.
  // </vc-code>
  
  POSTAMBLE (possibly empty): auxiliary code and definitions.

  The task is to fix the verification errors while satisfying the following requirements: 
  
  - The PREAMBLE, SPEC, and POSTAMBLE sections must be preserved as they are, including the tags
  - The CODE section must be fixed to pass verification
  - The HELPERS section may be updated to support the verification of the fixed implementation
  - The order of sections should be the same as in the original file
  - Output ONLY valid Dafny code - NO conversational text, explanations, or comments outside the code

  ERROR DETAILS from Dafny verification of the given code:
  {errorDetails}

  DAFNY FILE:
  {code}


