vc-preamble: |-
  use vstd::prelude::*;
  
  verus! {

vc-helpers: |-
  spec fn can_multiply_by_3(x: i32) -> bool {
      -715827882 <= x <= 715827882
  }

vc-spec: |-
  // <vc-spec>
  fn triple(x: i32) -> (r: i32)
    ensures r == 3 * x
  // </vc-spec>

vc-code: |-
  {
      if -715827882 <= x && x <= 715827882 {
          proof {
              assert(can_multiply_by_3(x));
          }
          let result = 3i32.checked_mul(x);
          match result {
              Some(val) => val,
              None => {
                  proof {
                      assert(can_multiply_by_3(x));
                      assert(false);
                  }
                  0
              }
          }
      } else {
          proof {
              assert(!can_multiply_by_3(x));
              assert(false);
          }
          0
      }
  }

vc-postamble: |-
  
  fn main() {
  }
  
  }

